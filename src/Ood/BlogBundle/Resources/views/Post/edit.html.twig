{% extends 'layout.html.twig' %}

{% trans_default_domain 'application' %}
{% block main %}
    {{ form_start(form, {attr : {novalidate: 'novalidate', 'class':'was-validated'}} ) }}
    <section id="head">
        {% if form.images is not empty %}
            {% set image = form.images[0] %}
            <img class="" src="{{ asset(image.vars.value.webpath) }}" alt="{{ image.vars.value.alt }}">
        {% else %}
            <img class="" src="{{ asset('img/image-not-found.png') }}" alt="image not found">
        {% endif %}
    </section>
    <section id="medias" class="container">
        <div class="cards d-flex flex-wrap justify-content-center justify-content-md-start"
             data-prototype="{{ form_widget(form.images.vars.prototype)|e('html_attr') }}">
            <!-- images -->
            {% for image in form.images %}
                <div class="st_card">
                    <img id="image_{{ image.vars.value.idImage }}" src="{{ asset(image.vars.value.webpath) }}"
                         alt="{{ image.vars.value.alt }}" class="img-fluid">
                    <a class="trash btn btn-sm btn-light" role="button"
                       href="#">
                        <i class="remove-card fa fa-trash-o" aria-hidden="true"></i>
                    </a>
                    <div class="input_file-container">
                        {{ form_widget(image) }}
                    </div>
                </div>
            {% endfor %}
        </div>
        <div id="images-new" class="m-4"></div>
    </section>
    <section id="form" class="container">
        {% include "@OodBlog/Post/form_post.hml.twig" %}
        <button type="submit" class="btn btn-lg btn-primary">Validate</button>
    </section>
    {{ form_rest(form) }}
    {{ form_end(form) }}
{% endblock %}



{% block title %}Modifier{% endblock title %}
{% block page %}figure-edit{% endblock page %}
